#flimage-VERSION
CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
#
PROJECT(convert)
#
IF(COMMAND CMAKE_POLICY)
 CMAKE_POLICY(SET CMP0003 NEW)
ENDIF(COMMAND CMAKE_POLICY)
#
SET(CONVERT_SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR})
#
FIND_PACKAGE(FLTK REQUIRED)
#
ADD_DEFINITIONS(-D_CRT_SECURE_NO_WARNINGS)
#
INCLUDE_DIRECTORIES(
 ${FLTK_DIR}/include
 ${CMAKE_CURRENT_SOURCE_DIR}
 ${CMAKE_BINARY_DIR}
)
#-------------------
IF(UNIX)
 FIND_PROGRAM(FLTK_CONFIG_SCRIPT fltk-config PATHS ${FLTK_BIN_DIR})
#
 EXEC_PROGRAM(${FLTK_CONFIG_SCRIPT} ARGS --use-images --ldflags
  OUTPUT_VARIABLE LIBS)
ELSE(UNIX)
 SET(LIBS ${FLTK_BASE_LIBRARY} ${FLTK_FORMS_LIBRARY} ${FLTK_GL_LIBRARY} ${FLTK_IMAGES_LIBRARY} )
ENDIF(UNIX)

#-------------------
SET(exe convert)
SET(SRCS convert.cxx)
ADD_EXECUTABLE(${exe} ${SRCS})
TARGET_LINK_LIBRARIES(${exe} ${LIBS})
#
INSTALL(TARGETS ${exe}
  RUNTIME
  DESTINATION ${CMAKE_CURRENT_SOURCE_DIR}
)
#
